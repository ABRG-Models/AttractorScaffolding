# Plotting scripts

The scripts here make plots of the data generated by the programs in
../sim/ and ../sim_supp.

Main figures for the paper are generated by the scripts in
main/. Supplementary figures are in supp/. Analysis figures not
included in the paper are in analysis/. Each of these three
directories has a figures/ sub-directory containing pdf or png files.

The data for the results reported in the paper is stored in
../data/. Some of the data that these scripts plot will need to be
re-generated with the relevant simulation programs.

## main directory

### fig2.py

Fig 2 is the state transition diagram. This script runs without using any data:
```
python fig2.py
```

### fig3.py

Fig 3 is the 'puncuated equilibria' graph. It uses data generated by
the evolve_withf program.

The data to plot fig 3 are part of this repository. To generate more
data, run
```
./build/sim/evolve_withf ./configs/evolve_c2_short.json
```
Then plot:
```
python fig3.py 0 # or 1 or 2, etc
```

### fig4.py

These operate on the data generated by runevolve_c2.sh, which is
already present in the repository.

They plot histogrammed data of the number of times f=1 genomes were
evolved in a given range of generations. There are various ways to
present the data, depending on whether we log one or both axes, and
whether we take linearly spaced or logarithmically spaced bins.

```
python fig4.py
```

## analysis/ directory

### dimension_tree.py

Plots an n dimensional hypercube in a 2D graph.

First run:

```
build/sim/dimension_tree 4
build/sim/dimension_tree 5
build/sim/dimension_tree 6 # (etc)
```

Then plot:
```
python dimension_tree.py 4
python dimension_tree.py 5 # (etc)
```

### drift.py

Plots histograms similar to Fig 1D, but for a drifting process where
the genome is mutated every generation whether the fitness increases
or decreases.

First run:
```
scripts/supp/rundrift.sh
```
Then plot:
```
python drift.py
```

### evo_analysis.py

This script analyses the genomes found on the way to an f=1 genome. To
generate the data run

```
scripts/runevolve_withf.sh
```

Then plot:
```
python evo_analysis.py
```

### evospeed_bf.py and evospeed_histo_only_multi_bf.py

These scripts plot histograms similar to Fig 1D, but obtained by
running the evolution algorithm with a set number of bits being
flipped in the genome on each generation.

First run:
```
scripts/runevolveb.sh
```
Then plot:
```
python evospeed_bf.py
python evospeed_histo_only_multi_bf.py
```

### evospeed_histo_only_multi.py, evospeed_powerlaw.py and evospeed.py

These scripts are additional variations on Fig 1D.

First run:
```
scripts/runevolve.sh
```
Then plot:
```
python evospeed.py
python evospeed_histo_only_multi.py
python evospeed_powerlaw.py
```

### fitincspeed_histo_multi.py

To generate the necessary
data/evolve_a21_p10_ff4_100000000_gensplus*.csv files re-run the
evolve script:
```
scripts/runevolve.sh
```
Then plot (this one takes a long time - several minutes - as it plots
the distribution of ALL the fitness increments, rather than just f=1
genomes):
```
python fitincspeed_histo_multi.py
```

### fitness_dists.py

The data is in the repository for this script. Regenerate with
estimate_fitness_dist_ff4 etc.

To plot:
```
python fitness_dists.py
```

### h_m.py

The results of running h_m.cpp are in the repository. Consult h_m.cpp
for details. Plot with:
```
python h_m.py
```

### null_stats.py and null_stats_load.py

Plots statistics of the null model. Run nullmodel_withf to generate
the data:

```
./build/sim/nullmodel_withf
```

Then plot:
```
python null_stats_load.py # loads data
python null_stats.py      # plots
```

### p0.py

Plots the probability of obtaining a zero fitness as a function of the
length of the limit cycle into which the initial state
transitions. The results are generated using,, but stored in the
repository so don't need to be regenerated.

```
python p0.py
```

### prob_fitinc_flipbits.py

Plots statistics for the probability of the fitness increasing as a
function of the number of bits flipped.

First run:
```
scripts/run_prob_fitinc_bybits.sh
```
Then plot:
```
python prob_fitinc_bybits.py
```

### prob_fitinc.py

Plots statistics for the probability of the fitness increasing as a
function of the probability of flipping a bit.

First run:
```
scripts/run_prob_fitinc.sh
```
Then plot:
```
python prob_fitinc.py
```

### smooth_fit.py

Plots the fitness of genomes as they are mutated away from f=1
genomes. The data is in the repository, to regenerate it run:
```
scripts/runmutations4.sh
scripts/runmutations5.sh
scripts/runmutations6.sh
```
Then plot:
```
python smooth_fit.py
```

### states_bitflips.py

This plots the state transitions for the selected genome in the paper,
and then plots all the single bit-flipped genomes.

```
python states_bitflips.py
```
